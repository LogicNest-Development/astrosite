---
import Layout from "@components/../layouts/Layout.astro";
const docs = await Astro.glob("../content/legal/*.md");
const active = Astro.url.searchParams.get("doc") || (docs[0]?.frontmatter?.title ?? "Terms");
---
<Layout title="Legal â€” LogicNest">
  <section class="container py-12">
    <div class="flex flex-wrap gap-2">
      {docs.map((d) => (
        <a href={`/legal?doc=${encodeURIComponent(d.frontmatter.title)}`}
           class={`px-3 py-2 rounded-xl border ${active===d.frontmatter.title ? 'bg-white/10' : 'bg-transparent'} border-white/10`}>
          {d.frontmatter.title}
        </a>
      ))}
    </div>
    <div class="card p-6 mt-6 prose prose-invert">
      {docs.map((d) => active===d.frontmatter.title && <Fragment set:html={await d.compile()} />)}
    </div>
  </section>
</Layout>
