---
import data from "../data/pricing.json";
const games = data.games ?? [];
const ts = data.teamspeak ?? [];
const bots = data.discord ?? [];

// simple currency formatter for use in expressions
const money = (n: number) => `$${(n ?? 0).toFixed(2)}`;
---
<section class="container-section py-12 md:py-16">
  <h2 class="text-3xl font-bold mb-6">Game Hosting</h2>
  <div class="grid md:grid-cols-2 gap-6 mb-12">
    {games.map((p) => (
      <div class="rounded-2xl border border-white/10 p-6 shadow-ring">
        <h3 class="text-xl font-semibold mb-2">{p.slug.toUpperCase()}</h3>
        <p class="text-muted mb-2">{p.ram} GB RAM â€¢ {p.storage}</p>
        <div class="text-3xl font-bold">{money(p.price)}</div>
      </div>
    ))}
  </div>

  <h2 class="text-3xl font-bold mb-6">TeamSpeak</h2>
  <div class="grid md:grid-cols-2 gap-6 mb-12">
    {ts.map((p) => (
      <div class="rounded-2xl border border-white/10 p-6 shadow-ring">
        <h3 class="text-xl font-semibold mb-2">{p.slug.toUpperCase()}</h3>
        <p class="text-muted mb-2">{p.slots} slots</p>
        <div class="text-3xl font-bold">{money(p.price)}</div>
      </div>
    ))}
  </div>

  <h2 class="text-3xl font-bold mb-6">Discord Bots</h2>
  <div class="grid md:grid-cols-2 gap-6">
    {bots.map((p) => (
      <div class="rounded-2xl border border-white/10 p-6 shadow-ring">
        <h3 class="text-xl font-semibold mb-2">{p.slug.toUpperCase()}</h3>
        {p.features?.length ? (
          <ul class="list-disc pl-5 text-muted mb-2">
            {p.features.map((f) => <li>{f}</li>)}
          </ul>
        ) : null}
        <div class="text-3xl font-bold">{money(p.price)}</div>
      </div>
    ))}
  </div>
</section>
